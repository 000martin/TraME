
export TESTS_WDIR="$PWD"

cd ..
export ARMA_INCLUDE_PATH="$PWD/include"
export CXXCOV=gcov
export LD_LIBRARY_PATH="$PWD:$PWD/glpk_tmp/lib":$LD_LIBRARY_PATH
cd tests

cd ancillary
./configure -c -d
make
./cov_check

cd ../arums
./configure -c -d
make
./cov_check

cd ../solvers
./configure -c -d
make
./cov_check

# unit tests
cd $TESTS_WDIR/unit_tests

cd misc
./configure -c -d
make
./cov_check

cd ../arums
./configure -c -d
make
./cov_check

cd ../mmfs
./configure -c -d
make
./cov_check

cd ../models
./configure -c -d
make
./cov_check

cd ../solvers
./configure -c -d
make
./cov_check

cd ../transfers
./configure -c -d
make
./cov_check

cd $TESTS_WDIR/..
rm -rf ./include/armadillo*
rm -rf ./include/optim
rm -rf ./src/optim
rm -rf ./src/math
rm -rf ./src/prob
cd $TESTS_WDIR
